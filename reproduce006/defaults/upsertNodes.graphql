upsert {
  query {
    var(func: has(type)) @filter(NOT has(dgraph.type)) {
      v as uid
      Type as type
    }
    var(func: has(~start)) @filter(NOT has(dgraph.type)) {
      v2 as uid
    }
    var(func: has(~end)) @filter(NOT has(dgraph.type)) {
      v3 as uid
    }
  }

  mutation {
    set {
     uid(v) <dgraph.type> val(Type) .
    }
  }
  mutation {
    set {
     uid(v2) <dgraph.type> "node" .
    }
  }
  mutation {
    set {
     uid(v3) <dgraph.type> "node" .
    }
  }
}
